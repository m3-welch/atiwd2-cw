# atiwd2-cw

## Link to CSV data file:
[here](https://fetstudy.uwe.ac.uk/~p-chatterjee/2020-21/modules/atwd2/assignment/air-quality-data-2004-2019.zip)

# TASK 1
1. Open the directory `task1`
2. Ensure the CSV data file linked above is in the directory
3. Run `php extract-to-csv.php` from the command line
4. The output CSV files will be written to `files/csv`
5. You can use `extra_tools/count_lines` to count the lines in the CSV files (Note: This will also count the lines
in the XML files generated by Task 2, so may throw some errors if those files have not been generated)

# TASK 2
1. Open the directory `task2`

### Task 2a
1. Ensure the CSV files generated by Task 1 are present at `files/csv`
2. Run `php normalize-to-xml.php` from the command line
3. The output XML files will be written to `files/xml`
4. You can use `extra_tools/count_lines` to count the lines in the XML files (Note: this will also count the lines
in the CSV files generated by Task 1)

### Task 2b
1. The file `air-quality.xsd` is the submission file for this task
2. You can use `extra_tools/validate_xml_xsd.php` to validate the XML files generated by Task 2a against the XSD schema

# TASK 3
1. Open the directory `task3`
2. Host the web application however is best. It works with either Apache (being placed in `/var/www/html`) or by running
`php -S localhost:8000 -t .` in the directory.
3. Navigate to the website

### Task 3.1
1. Click the button labeled `View Nitrogen Monoxide Levels for a Certain Time of Day`
2. Use the dropdown menu to select a site to view data from
3. Use the input box to select a year to view data from
4. Use the input box to select a time to view data from
5. Once these steps are completed (e.g. `AURN Bristol Centre`, `2000`, `08:00`), press the update button to view the scatter chart

### Task 3.2
1. Click the button labeled `View All Levels for a Certain Day From 6 Stations`
2. Use the input box to select a date to view data from
3. Use the dropdown box to select a site to add to the site list
4. Press the button labeled `Add Site to List` to add the selected site to the site list
5. Repeat steps 3 & 4 until the site list contains exactly 6 sites
6. Click on a site in the site list to view data from that site. This will show the chart.

# TASK 4
1. Open the directory `task4`
2. Host the web application however is best. It works with either Apache (being placed in `/var/www/html`) or by running
`php -S localhost:8000 -t .` in the directory.
3. Navigate to the website

### Task 4 Usage
1. Wait for the site to load (This can take up to 15 seconds as it loads the data on page load)
2. You will now be presented with a map showing heatmap data of the pollutants
3. You can use the timeline at the top of the page to view the average pollution levels each month
(averaged over the station's data collecting lifetime)
4. You can use the sub-menu to select which pollutant to view data for
5. You can use the sub-menu to toggle between the Heatmap view and the points view
6. Hovering over a station in either points or heatmap view will display it's average value for that pollutant